{"version":3,"sources":["../../src/lib/sortMenu.js"],"names":["sortMenu","getUniqueValues","value","index","self","indexOf","sortAlphabetically","a","b","sortByGroup","props","group","sortByName","name","panels","order","filter","some","actualPanel","desiredPanel","desiredGroupOrder","map","panel","desiredNameOrder","sort","panelAHasGroupCustomOrder","includes","panelBHasGroupCustomOrder","indexOfGroupA","indexOfGroupB","panelAHasNameCustomOrder","panelBHasNameCustomOrder"],"mappings":"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","file":"sortMenu.js","sourcesContent":["function getUniqueValues(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\nfunction sortAlphabetically(a, b) {\n  const sortByGroup = a.props.group === b.props.group ? 0 : a.props.group < b.props.group ? -1 : 1;\n  const sortByName = a.props.name === b.props.name ? 0 : a.props.name < b.props.name ? -1 : 1;\n  return sortByGroup || sortByName;\n}\n\nexport default function sortMenu(panels, order) {\n  // validates order, if a desired panel matches no panel in the panels array,\n  // it is excluded from ordering considerations\n\n  // eslint-disable-next-line\n  order = order.filter(desiredPanel =>\n    panels.some(\n      actualPanel =>\n        actualPanel.props.name === desiredPanel.name &&\n        actualPanel.props.group === desiredPanel.group\n    )\n  );\n\n  const desiredGroupOrder = order.map(panel => panel.group).filter(getUniqueValues);\n  const desiredNameOrder = order.map(panel => panel.name).filter(getUniqueValues);\n\n  panels.sort((a, b) => {\n    const panelAHasGroupCustomOrder = desiredGroupOrder.includes(a.props.group);\n    const panelBHasGroupCustomOrder = desiredGroupOrder.includes(b.props.group);\n\n    // if one of the elements is not in the desiredGroupOrder array, then it goes to the end of the list\n    if (panelAHasGroupCustomOrder && !panelBHasGroupCustomOrder) {\n      return -1;\n    }\n    if (!panelAHasGroupCustomOrder && panelBHasGroupCustomOrder) {\n      return 1;\n    }\n\n    // if both elements are not in the desiredGroupOrder array, they get sorted alphabetically,\n    // by group, then by name\n    if (!panelAHasGroupCustomOrder && !panelBHasGroupCustomOrder) {\n      return sortAlphabetically(a, b);\n    }\n\n    // if both elements are in the desiredGroupOrder array, they get sorted according to their order in\n    // the desiredGroupOrder, then desiredNameOrder arrays.\n    if (panelAHasGroupCustomOrder && panelBHasGroupCustomOrder) {\n      const indexOfGroupA = desiredGroupOrder.indexOf(a.props.group);\n      const indexOfGroupB = desiredGroupOrder.indexOf(b.props.group);\n\n      if (indexOfGroupA < indexOfGroupB) {\n        return -1;\n      }\n\n      if (indexOfGroupA > indexOfGroupB) {\n        return 1;\n      }\n\n      if (indexOfGroupA === indexOfGroupB) {\n        const panelAHasNameCustomOrder = desiredNameOrder.includes(a.props.name);\n        const panelBHasNameCustomOrder = desiredNameOrder.includes(b.props.name);\n\n        if (!panelAHasNameCustomOrder || !panelBHasNameCustomOrder) {\n          if (panelAHasNameCustomOrder && !panelBHasNameCustomOrder) {\n            return -1;\n          }\n          if (!panelAHasNameCustomOrder && panelBHasNameCustomOrder) {\n            return 1;\n          }\n          if (!panelAHasNameCustomOrder && !panelBHasNameCustomOrder) {\n            return sortAlphabetically(a, b);\n          }\n        }\n\n        if (panelAHasNameCustomOrder && panelBHasNameCustomOrder) {\n          return desiredNameOrder.indexOf(a.props.name) - desiredNameOrder.indexOf(b.props.name);\n        }\n      }\n    }\n    return 0;\n  });\n}\n"]}